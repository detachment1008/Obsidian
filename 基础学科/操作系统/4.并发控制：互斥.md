# 硬件实现

我们可以通过硬件来实现，即当访问内存的时候，先把其他人的操作停下来，让我一个人操作完，其他人再开始操作

如：xchg

处理器保证所有带 lock 的指令都会进行一次排序，而且保证当执行某一个 lock 指令的时候，之前 lock 一定被执行。且指令的执行，不能跨过 lock，可以理解为 lock 指令把代码分块了，而一块内部，是可以在保证结果正确性的前提下，任意交换执行顺序的

原子指令：
1. 读取
2. 操作
3. 写入

# 自旋锁

# 互斥锁

# futex