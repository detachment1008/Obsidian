# 在 C++ 中创建窗口
---

创建窗口是一个很底层的操作，它会调用操作系统的 API；这也会导致不同平台的代码不同。为了学习，我们使用一个库( `GLFW` )，它可以在不同平台上提供一个窗口。

下载 `GLFW`：
1. 访问网站：`glfw.org`
2. 如果是一个严格的项目，建议下载源码，然后自己编译，然后将其作为一个独立的项目添加进来，并将其编译为一个静态类库，最后链接起来；但是本课程旨在学习 `OpenGl` ，所以下载二进制文件即可
3. 创建项目目录，主 `cpp` 文件
4. 拷贝官网的默认代码
5. 找到二进制文件的目录，所有的 `C++` 库我们都只有两个点需要关注：1. `include` 头文件 2. `lib` 静态库文件
6. 创建一个 `Dependencies` 文件夹，再创建一个 `GLFW` 文件夹，用于存放相关的文件
7. 找到下载的 `include` 文件夹和 `lib` 文件夹，将它们拖入到这里
8. 由于我们不需要动态库，所以我们可以删除动态库，只留下静态库文件
9. 添加包含目录，即可以直接使用 `include` 文件夹
10. 添加链接库目录，即可以到 `lib` 目录下寻找需要链接的库文件
11. 添加需要链接的库文件名称 `libglfw3.a`
12. 添加链接的库 `opengl32.lib`，它随操作系统被提供，并且包含在了默认的库文件路径下

如果报了一些未定义符号的错误，就说明少链接了一些库；去 MSDN 上看一下这些函数或符号都是属于哪些库的，将它们链接上即可

macOS Makefile：
```
# 定义编译器和选项
CXX = g++
CXXFLAGS = -Wall -IDependencies/GLFW/include
LDFLAGS = -LDependencies/GLFW/lib-x86_64
LDLIBS = -lglfw3 -framework CoreFoundation -framework IOKit -framework OpenGL -framework Cocoa

# 定义源文件目录和生成文件目录
SRCDIR = src
BINDIR = bin

# 所有源文件
SRCS = $(wildcard $(SRCDIR)/*.cpp)

# 生成的可执行文件
TARGET = $(BINDIR)/main

all: $(TARGET)

$(TARGET): $(SRCS)
	$(CXX) $(CXXFLAGS) $(LDFLAGS) $^ -o $@ $(LDLIBS)

clean:
	rm -f $(TARGET)
```

# 设置 OpenGL
---

先用了传统的 `OpenGL` 画了一个三角形：

```
glBegin(GL_TRIANGLES);
glVertex2f(-0.5f, -0.5f);
glVertex2f(0.0f, 0.5f);
glVertex2f(0.5f, -0.5f);
glEnd();
```