# 漫反射材质

漫反射材质：
1. 吸收周围环境的光
2. 散射自己本身颜色的光

其实漫反射是随机向一个方向反射光的，所以我们就可以用一个随机数来表示这个随机的方向

我们在接触点作两个单位球，则在外部球的圆心为：$p+N$
然后我们随机生成一个球内的点，即也可以认为是向量，设随机的点为 $r$
则：$p+N+r$

注意：我们提前设置了法向量的方向和入射光线相反(和101不同)，所以用 $p+N$就是反射，不是折射

我们当前是认为背景光实际就是方向光，每弹射一次，能量削减百分之 50。

看图软件默认都会进行一次gamma校正，但是我们不希望这样，我们可以再校正回来。gamma校正在这里会让它更暗，即对颜色使用了平方，即gamma 2空间

我们可以先对颜色开方，来抵消这个平方

注意：防止自相交问题，即 shadow acne

我们可以用极坐标的方式生成随机球面的随机点，这样更好。因为原先的方式，法向量上的线最长，即点最多，随机的点也更加靠近法向量

这些不同的方法，就是不同的漫反射材质罢了。

材质就是一种计算方式。