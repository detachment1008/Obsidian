# 组合逻辑

HDL：可以直接翻译为能够工作的微处理器
- `Verilog` 语言
- `VHDL` 语言

`HCL` 语言：简略的 HDL，只描述硬件的控制部分

## 逻辑门

```
And：a && b
OR：a || b
NOT：!a
```

数字电路的基本单元，只对单个位进行 `And, OR, NOT` 操作

## 位级组合电路

将很多个逻辑门连接起来，计算更加复杂的位级逻辑(它操作的还是位)

### 位级相等电路

```
bool eq = (a && b) || (!a && !b);
```

### 位级多路复用器

输入两个数据信号和一个控制信号，根据控制信号选择一个数据信号进行输出

```
bool out = (s && a) || (!s && b);
```

## 字级组合电路

将逻辑门组合为更大的网，即可以对字进行操作

### 字级相等电路

```
bool Eq = (A == B);
```

### 字级多路复用电路

```
word Out = [
	s: A;
	1: B;
];
```
- 情况表达式：从上向下，取第一个符合条件的式子对应的值

### 四路复用电路

```
word Out4 = [
	!s1 && !s0: A;
	!s1       : B;
	!s0       : C;
	1         : D;
];
```

### 最小值电路

```
word Min3 = [
	A <= B && A <= C: A;
	B <= A && B <= C: B;
	1               : C;
];
```

### ALU

它有三个输入，两个数据输入，一个控制输入；
- 数据输入：字级
- 控制输入：2 位

即控制输入的值决定了两个字级输入执行什么计算
```
word Result = [
	!s1 && !s2: X + Y;
	!s1 && s2 : X - Y;
	s1 && !s2 : X & Y;
	s1 && s2  : X ^ Y;
];
```

集合方式表示复用器：
```
bool s1 = code in {2, 3};
bool s0 = code in {1, 3};
```

# 存储器

## 时钟寄存器

- 原理：直接在电路上的装置，它一直再输出，但是只有时钟信号为高电位的时候，才打开输入
- 作用：用于隔绝电路

我们用它存储：
1. 程序计数器
2. 条件
3. 状态

## 随机访问存储器

输入和输出都受到输入信号的控制：
1. 寄存器文件
2. 内存

### 寄存器文件

输出：给出一个寄存器 id，过一段时间，就会输出对应的数据值
-  有输入才有输出，没有输入就没有输出(时钟寄存器一直有输出)

输入：通过时钟信号控制，给出一个寄存器 id 和数据，当时钟信号为高电位时，就会更新寄存器文件中存储的内容
- 如果不想输入，可以将寄存器 id 置为 `0xF`

### 内存

五个输入：
- 读控制
- 写控制
- 地址
- 数据输入
- 时钟

两个输出：
- 数据输出
- error 信号

同样，输入受到时钟信号控制(输出不受)，只要时钟信号上移，且输入有值，就会更新内存中的指定位置

如果地址错误，就会输出 `error` 信号，内存内部并不存储这个信号，只是简单的输出出去

### 只读存储器

# 时钟信号