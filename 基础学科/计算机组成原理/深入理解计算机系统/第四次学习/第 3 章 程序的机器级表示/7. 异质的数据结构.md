# 结构体

将不同类型的对象聚合到一个对象中，然后用名字引用结构体中的各个部分

访问内部数组：
```
内部偏移(结构体地址, 索引, 类型大小)
```

# 联合体

它的大小等同于内部最大字段的大小；相当于绕过了语言的类型检查系统

它适用于给互斥的两个量分配内存，这样可以节省内存

# 内存对齐

方便取指，提升效率；

对齐原则：K 字节的基本对象，地址必须是 K 的倍数

## 结构体的内存对齐

1. 内部插入：内部所有对象，都需要满足内存对齐；又因为它们是连续的，当下一个元素无法对齐时，中间就需要插入间隙了
2. 末尾插入：为了保证结构体在成为数组元素时也能保证内存对齐，所以当连续存放结构体无法保证下一个结构体内存对齐时，需要在上一个结构体的末尾插入间隙

计算技巧：
1. 找到内存对齐最大的基本元素(只考虑基本元素，不考虑结构体，数组这些)
2. 计算每个元素的内存大小(结构体，数组这些都整体考虑)
3. 对每个元素的内存大小，都用这个基本元素对齐(即内存占最大基本元素内存大小的倍数)；
	- 如果超过了它的大小，就用它的最近的比它大的倍数代替
	- 如果不足，可以和下一个元素加起来；只要不超过它的大小即可