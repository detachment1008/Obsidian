书接上回

# 9.7 蒙皮动画的实现：关节与蒙皮
---

## 9.7.1 Joint Pose 的表示

1. Orientation：通过旋转调整关节姿态
	- 旋转 -> 改变关节的方向
	- 所有的骨骼仅仅通过关节的方向去变化
2. Position：通过空间上的平移来改变关节状态
	- 平移 -> 改变位置
	- 特殊情况下，它也是有用的
		- 蹲下站起，尾椎骨
		- 表情
		- 特殊的机械结构，如：弩箭
3. Scale：放缩
	- 大部分情况下都不动
	- 在面部表达时，可能会使用到，如：大眼睛，鹰钩鼻(甚至可能不同方向放缩比例不一样)

## 9.7.2 仿射变换

注意：旋转是用四元数来表达的

## 9.7.3 局部空间到模型空间

为什么要用局部空间而不用模型空间：
1. 模型空间插值会出现问题

Skinning Matrix

## 9.7.4 顶点的加权

表面上的一个点和很多关节关联，并通过加权平均驱动它移动(一般不超过 4 个)

# 9.8 动画压缩
---

1. 缩放：大部分可以直接舍弃，因为大部分都不会缩放
2. 平移：存开头和结尾，使用时插值

## 9.8.1 关键帧

平移缩放等可以通过关键帧，线性插值即可

## 9.8.2 卡特莫曲线

它很方便去对旋转进行插值，它的精度和计算速度都很好

## 9.8.3 浮点数压缩

对一个给定范围的浮点数，归一化到 0~1 的范围内进行存储

## 9.8.4 压缩造成的误差

在每个 Joint 都定义两个轴，垂直和水平，用于判断误差

# 9.9 动画制作过程
---

DCC(Digital Content Creating)：
1. Mesh
2. Skeleton binding
3. Skinning
4. Animation Creation
5. Exporting

