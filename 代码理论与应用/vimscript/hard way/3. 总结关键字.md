# 变量

```
" 变量的生成和销毁
let    " 定义变量
unlet  " 删除变量，但是变量不存在会报错
unlet! " 删除变量，忽略变量不存在的错误提示
```

```
" 变量的作用域
v      " vim 预定义的变量，只读
g      " 全局
s      " 当前脚本局部
a      " 函数参数
l      " 函数局部(若不是在函数内部，就相当于缓冲区局部)
t      " 标签页局部
w      " 窗口局部
b      " 缓冲区局部
```

# 数据类型

1. `Number`：32 位有符号整数
2. `Float`：浮点数(需要编译的时候有 `+float` 支持)
3. `String`：`NULL` 结尾的 8 位无符号字符串
4. `Funcref`：函数引用，变量名必须以大写字母开头
5. `List`：有序列表(以 `[` 和 `]` 包围的区域)
6. `Dictionary`：哈希表(用 `:` 区分 `key` 和 `value`)

# 字符串比较

1. `#`：匹配大小写
2. `?`：不匹配大小写

# 字符串连接

1. `.` 连接

# 流程控制

```
" 三目运算符
a:arg?"True":"False"

" 分支
if <express>
elseif <express>
else
endif

" for 循环
for <var> in <list>
	continue
	break	
endfor

" while 循环
while <express>
endwhile
```

# 函数

```
" 创建函数(并覆盖); 如果不使用!，若函数已经出现则会报错
function! <name>(arg1, arg2, ...)
	a:0
	a:1
	a:arg1
endfunction

" 删除函数
delfunction <name>

" 调用函数
call <name>()     " 非表达式中(即不需要返回值)
<name>()          " 表达式中(需要返回值)

" 行调用函数
1,3call Foo()     " 在当前缓冲区的一到三行，每行都调用该函数一次
                  " 此时有 a:firstline 和 a:lastline 关键字可使用

" 单次使用行调用
function !Foo() range         " 被行调用时，只会被调用一次；但仍然可以使用 a:firstling 和 a:lastline
endfunction

" 将存储函数的字典，暴露为 self 关键字
let MyClass = {"foo": "Foo"}
function MyClass.printFoo() dict
endfunction

" 函数赋值给变量
let Myfunc = function("<函数名>")
```