# 容器 list

它是双向链表

2.9 版本的一些特点：
1. list 内部只有一个指针类型的数据，即 list 对象的大小是 4
	- 但是我用 g++9.4发现它的大小变成 24 了
2. 这个指针指向真正的节点，即包含三个数据成员，数据、前指针、后指针
3. 它还 typeof 了一个 iterator 类型(除了 array 和 vector 都是 class)
	- 使用：`list<foo>::iterator ite`

# list: iterator

特点：
1. 因为它是被当作指针来使用的，它的内部会有大量的操作符重载，用于模拟指针的操作
2. 因为它是泛型，所以在开头也会罗列一大堆的 typedef

它的内部也只有一个元素，即指针类型的指向了一个节点。（都是以节点为单位的，不会指向节点内部的前后指针或者数据的）

有一个小特点：c++的整数不允许后++两次，但是允许前++两次。可能是因为++放在后面返回的是一个右值，错误: `i++++`

所以迭代器在设计的时候，也应具有这种特性

# 总结

链表：
1. 定义了 iterator 类型
2. 存储了一个节点指针

迭代器：
1. 存储了一个节点指针
2. 定义了一大堆操作符重载

> 迭代器的内部都有三部分：数据，一大堆 typedef ，操作符重载

# 实现：前闭后开

会额外生成一个元素，放在开头和末尾中间的位置。(注意：list 实际是一个双向环状链表)

所以 list.end() 实际就是指向了这个额外生成了元素
- 经过测试，这个额外的元素的值就等于最后一个元素的值

4.9 版本，链表占 8 个字节。这是因为之前是一个指向节点的指针，现在是把前后两个指针提取出来了。