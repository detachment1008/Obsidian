# 策略模式
---

继承的问题：
- 可能很难有合适的父子关系，导致父类增加功能后，有的不需要的子类也需要使用的情况
- 如果使用继承接口，有些语言(如：Java)不具有实现接口的代码，导致继承接口无法复用

### 设计原则 1

解决办法：找到可能需要变化之处，并将其独立出来，不要和那些不需要变化的代码混在一起

### 设计原则 2

解决办法：针对接口编程，而不是针对实现编程

即我们的实现放在了行为接口中，而不是放在绑定死的基类中
- 基类即存放了不需要变化的代码

变化的代码的处理方式：它们的特点都是在声明的时候无需关心以后真正执行的对象类型
- 多态
	- 它和一种基类型绑定了
- 接口
	- 它没有和任何一种基类型绑定，只是定义了一种行为

针对实现编程指的就是声明后立即定义，调用时一定会执行该定义的函数

做法：这种做法叫 **组合**，即将两个类结合起来使用
1. 在基类中，添加基类接口类型的变量
2. 在初始化的时候，初始化这两个基类接口类型的变量
	- 相当于指定了真正的行为
3. 调用的时候，统一用这两个接口类型的变量进行方法调用即可

如果希望动态改变行为，我们只需要动态改变基类接口类型的变量即可
- 即通过不同的子类实现

组合的特点：
- 它的行为不是继承来的，而是和适当的行为组合来的

### 设计原则 3

解决办法：多用组合，少用继承

小总结：
- 不变的数据和函数放在基类
- 变化的函数用一个基接口变量存储
- 并在调用的时候通过这个基接口变量进行调用

### 策略模式的正式定义

策略模式：定义了算法族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化独立于使用算法的客户

### 如何使用设计模式

我们应该多使用共享词汇

记住设计模式的知识，并在代码中使用

# 总结
---

三个原则：
- 封装变化
- 多用组合，少用继承
- 针对接口编程，不针对实现编程

一个模式：
- 策略模式