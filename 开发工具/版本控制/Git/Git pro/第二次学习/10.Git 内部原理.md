# 引言
---

# 10.1 底层命令与上层命令
---

# 10.2 Git 对象
---

存储 blob 对象：`git hash-object`
- `-w` ：不仅返回 SHA-1 值，还存储为 blob 对象；否则只返回不存储
- `--stdin`：从标准输入中读取内容；否则需要在末尾给出一个文件路径

查看对象：`git cat-file [option] <SHA-1>`
- `-p`：查看对象内容
- `-t`：查看对象类型

注意：它没有保存文件名，只保存了文件内容；并用 SHA-1 唯一识别它

---

创建一个暂存区：`git update-index [option] <文件模式,如:100644> <SHA-1值(可忽略> <文件路径>`
- `--add`：添加指定文件到暂存区
- `--cacheinfo`：说明不使用文件路径添加，而使用 Git 数据库中的对象添加(但仍需要指定文件路径)

示例：
```
git update-index --add --cacheinfo 100644 83baae61804e65cc73a7201a7252750c76066a30 test.txt
// 注意：该文件必须有更改才行
git update-index --add hello.rb
```

由暂存区生成树对象：`git write-tree`

将树对象写入暂存区：`git read-tree`
- `--prefix=<name>`

---

创建一个提交对象：`git commit-tree <treeobj>`

# 10.3 Git 引用
---

直接更改引用文件是可以的，但是不提倡。Git 提供了一个更加安全的命令：`git update-ref <位置> <SHA-1>`

直接更改符号引用文件(HEAD)也是可以的，但是也有一个更安全的命令：
1. 查看：`git symbolic-ref HEAD`
2. 设置：`git symbolic-ref HEAD refs/heads/test`

还有 refs/remotes/<仓库名>/<分支名>，表示远程跟踪分支

# 10.4 包文件
---

`git gc`：将对象打成包文件。这些情况下会自动执行：
- 当版本库中有太多松散对象
- 向远程服务器推送时

# 10.5 引用规范
---

引用规范格式：`<远程分支名>:<本地远程跟踪分支名>`，当留空就意味着删除

当然也有更新的语法：
- `git push origin -d <branch>`
- `git push origin --delete <branch>`