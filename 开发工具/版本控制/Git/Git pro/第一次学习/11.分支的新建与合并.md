# 分支的新建与合并
---

在切换分支前，最好保持一个干净的状态(工作区和暂存区)：
- 通过暂存和修补提交的方式
- 否则可能会造成分支冲突
	- 它会将新分支的仓库应用到工作目录上
	- 同时也会把工作区和暂存区的更改应用到工作目录上
	- 如果这两个对同样的地方进行了修改，就会发生冲突

# 分支的删除
---

删除分支：
```
git branch -d <分支名>
```

注意：此时不能处于这个删除的分支中

# 分支的合并
---

先切换到需要被合并的分支，然后进行分支合并：
```
git merge <合并的分支名>
```

三方合并：
- 公共祖先分支
	- 为了判断当两个分支不同时，是否发生了冲突
	- 即发生了分支差异时，如果其中一个和公共祖先分支的相同，就应用另一个分支的信息
	- 如果都不相同，就说明两个分支都进行了更改，说明发生了冲突
- 被合并分支的最新提交所指的快照
- 合并分支的最新提交所指的快照

它会生成一个新的快照，并自动创建一个新的提交：
- 它被称为合并提交
- 它的特别之处在于，它有不止一个父提交

# 遇到冲突时的分支合并
---

当发生了冲突时，Git 会暂停下来，等待你去解决合并产生的冲突：
- 即它是从创建新的合并提交的过程中，暂停下来的
- 它创建合并提交的过程，也是修改，暂存，提交的过程
- 所以暂停时，冲突的文件会在工作目录中，正常未冲突且已处理的文件在暂存区

此时 Git 会在冲突文件中加入冲突标记：
- 上面标记的是当前分支(被合并分支)的内容
- 下面标记的是合并分支的内容

我们可以选择手动更改文件内容，已解决冲突

然后我可以把已解决的文件，添加到暂存区：
```
git add <file>
```

当解决完所有冲突文件后，完成合并：
```
git commit
```